{"ast":null,"code":"import _slicedToArray from\"/Users/dwaynehovington/Desktop/Mern/mern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{useEffect}from'react';import{useState}from'react';import{useDispatch,useSelector}from'react-redux';import{detailsUser,updateUser}from'../actions/userActions';import LoadingBox from'../components/LoadingBox';import MessageBox from'../components/MessageBox';import{USER_UPDATE_RESET}from'../constants/userConstants';export default function UserEditScreen(props){var userId=props.match.params.id;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isSeller=_useState6[0],setIsSeller=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isAdmin=_useState8[0],setIsAdmin=_useState8[1];var userDetails=useSelector(function(state){return state.userDetails;});var loading=userDetails.loading,error=userDetails.error,user=userDetails.user;var userUpdate=useSelector(function(state){return state.userUpdate;});var loadingUpdate=userUpdate.loading,errorUpdate=userUpdate.error,successUpdate=userUpdate.success;var dispatch=useDispatch();useEffect(function(){if(successUpdate){dispatch({type:USER_UPDATE_RESET});props.history.push('/userlist');}if(!user){dispatch(detailsUser(userId));}else{setName(user.name);setEmail(user.email);setIsSeller(user.isSeller);setIsAdmin(user.isAdmin);}},[dispatch,props.history,successUpdate,user,userId]);var submitHandler=function submitHandler(e){e.preventDefault();// dispatch update user\ndispatch(updateUser({_id:userId,name:name,email:email,isSeller:isSeller,isAdmin:isAdmin}));};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",{className:\"form\",onSubmit:submitHandler},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"Edit User \",name),loadingUpdate&&/*#__PURE__*/React.createElement(LoadingBox,null),errorUpdate&&/*#__PURE__*/React.createElement(MessageBox,{variant:\"danger\"},errorUpdate)),loading?/*#__PURE__*/React.createElement(LoadingBox,null):error?/*#__PURE__*/React.createElement(MessageBox,{variant:\"danger\"},error):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\"},\"Name\"),/*#__PURE__*/React.createElement(\"input\",{id:\"name\",type:\"text\",placeholder:\"Enter name\",value:name,onChange:function onChange(e){return setName(e.target.value);}})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email\"),/*#__PURE__*/React.createElement(\"input\",{id:\"email\",type:\"email\",placeholder:\"Enter email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"isSeller\"},\"Is Seller\"),/*#__PURE__*/React.createElement(\"input\",{id:\"isSeller\",type:\"checkbox\",checked:isSeller,onChange:function onChange(e){return setIsSeller(e.target.checked);}})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"isAdmin\"},\"Is Admin\"),/*#__PURE__*/React.createElement(\"input\",{id:\"isAdmin\",type:\"checkbox\",checked:isAdmin,onChange:function onChange(e){return setIsAdmin(e.target.checked);}})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"primary\"},\"Update\")))));}","map":{"version":3,"sources":["/Users/dwaynehovington/Desktop/Mern/mern/client/src/screens/UserEditScreen.js"],"names":["React","useEffect","useState","useDispatch","useSelector","detailsUser","updateUser","LoadingBox","MessageBox","USER_UPDATE_RESET","UserEditScreen","props","userId","match","params","id","name","setName","email","setEmail","isSeller","setIsSeller","isAdmin","setIsAdmin","userDetails","state","loading","error","user","userUpdate","loadingUpdate","errorUpdate","successUpdate","success","dispatch","type","history","push","submitHandler","e","preventDefault","_id","target","value","checked"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { detailsUser, updateUser } from '../actions/userActions';\nimport LoadingBox from '../components/LoadingBox';\nimport MessageBox from '../components/MessageBox';\nimport { USER_UPDATE_RESET } from '../constants/userConstants';\n\nexport default function UserEditScreen(props) {\n    const userId = props.match.params.id;\n    const [name, setName] = useState('');\n    const [email, setEmail] = useState('');\n    const [isSeller, setIsSeller] = useState(false);\n    const [isAdmin, setIsAdmin] = useState(false);\n\n    const userDetails = useSelector((state) => state.userDetails);\n    const { loading, error, user } = userDetails;\n\n    const userUpdate = useSelector((state) => state.userUpdate);\n    const {\n        loading: loadingUpdate,\n        error: errorUpdate,\n        success: successUpdate,\n    } = userUpdate;\n\n    const dispatch = useDispatch();\n    useEffect(() => {\n        if (successUpdate) {\n            dispatch({ type: USER_UPDATE_RESET });\n            props.history.push('/userlist');\n        }\n        if (!user) {\n            dispatch(detailsUser(userId));\n        } else {\n            setName(user.name);\n            setEmail(user.email);\n            setIsSeller(user.isSeller);\n            setIsAdmin(user.isAdmin);\n        }\n    }, [dispatch, props.history, successUpdate, user, userId]);\n\n    const submitHandler = (e) => {\n        e.preventDefault();\n        // dispatch update user\n        dispatch(updateUser({ _id: userId, name, email, isSeller, isAdmin }));\n    };\n    return (\n        <div>\n            <form className=\"form\" onSubmit={submitHandler}>\n                <div>\n                    <h1>Edit User {name}</h1>\n                    {loadingUpdate && <LoadingBox></LoadingBox>}\n                    {errorUpdate && (\n                        <MessageBox variant=\"danger\">{errorUpdate}</MessageBox>\n                    )}\n                </div>\n                {loading ? (\n                    <LoadingBox />\n                ) : error ? (\n                    <MessageBox variant=\"danger\">{error}</MessageBox>\n                ) : (\n                            <>\n                                <div>\n                                    <label htmlFor=\"name\">Name</label>\n                                    <input\n                                        id=\"name\"\n                                        type=\"text\"\n                                        placeholder=\"Enter name\"\n                                        value={name}\n                                        onChange={(e) => setName(e.target.value)}\n                                    ></input>\n                                </div>\n                                <div>\n                                    <label htmlFor=\"email\">Email</label>\n                                    <input\n                                        id=\"email\"\n                                        type=\"email\"\n                                        placeholder=\"Enter email\"\n                                        value={email}\n                                        onChange={(e) => setEmail(e.target.value)}\n                                    ></input>\n                                </div>\n                                <div>\n                                    <label htmlFor=\"isSeller\">Is Seller</label>\n                                    <input\n                                        id=\"isSeller\"\n                                        type=\"checkbox\"\n                                        checked={isSeller}\n                                        onChange={(e) => setIsSeller(e.target.checked)}\n                                    ></input>\n                                </div>\n                                <div>\n                                    <label htmlFor=\"isAdmin\">Is Admin</label>\n                                    <input\n                                        id=\"isAdmin\"\n                                        type=\"checkbox\"\n                                        checked={isAdmin}\n                                        onChange={(e) => setIsAdmin(e.target.checked)}\n                                    ></input>\n                                </div>\n                                <div>\n                                    <button type=\"submit\" className=\"primary\">\n                                        Update\n              </button>\n                                </div>\n                            </>\n                        )}\n            </form>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}