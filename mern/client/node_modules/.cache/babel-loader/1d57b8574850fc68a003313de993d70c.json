{"ast":null,"code":"import _toConsumableArray from\"/Users/dwaynehovington/Desktop/Mern/mern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import React,{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{Link,useParams}from'react-router-dom';import{createProduct,deleteProduct,listProducts}from'../actions/productActions';import LoadingBox from'../components/LoadingBox';import MessageBox from'../components/MessageBox';import{PRODUCT_CREATE_RESET,PRODUCT_DELETE_RESET}from'../constants/productConstants';function ProductListScreen(props){var _useParams=useParams(),_useParams$pageNumber=_useParams.pageNumber,pageNumber=_useParams$pageNumber===void 0?1:_useParams$pageNumber;var sellerMode=props.match.path.indexOf('/seller')>=0;var productList=useSelector(function(state){return state.productList;});var loading=productList.loading,error=productList.error,products=productList.products,page=productList.page,pages=productList.pages;var productCreate=useSelector(function(state){return state.productCreate;});var loadingCreate=productCreate.loading,errorCreate=productCreate.error,successCreate=productCreate.success,createdProduct=productCreate.product;var productDelete=useSelector(function(state){return state.productDelete;});var loadingDelete=productDelete.loading,errorDelete=productDelete.error,successDelete=productDelete.success;var userSignin=useSelector(function(state){return state.userSignin;});var userInfo=userSignin.userInfo;var dispatch=useDispatch();useEffect(function(){if(successCreate){dispatch({type:PRODUCT_CREATE_RESET});props.history.push(\"/product/\".concat(createdProduct._id,\"/edit\"));}if(successDelete){dispatch({type:PRODUCT_DELETE_RESET});}dispatch(listProducts({seller:sellerMode?userInfo._id:'',pageNumber:pageNumber}));},[createdProduct,dispatch,props.history,sellerMode,successCreate,successDelete,userInfo._id,pageNumber]);var deleteHandler=function deleteHandler(product){if(window.confirm('Are you sure to delete?')){dispatch(deleteProduct(product._id));}};var createHandler=function createHandler(){dispatch(createProduct());};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Products\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"primary\",onClick:createHandler},\"Create Product\")),loadingDelete&&/*#__PURE__*/React.createElement(LoadingBox,null),errorDelete&&/*#__PURE__*/React.createElement(MessageBox,{variant:\"danger\"},errorDelete),loadingCreate&&/*#__PURE__*/React.createElement(LoadingBox,null),errorCreate&&/*#__PURE__*/React.createElement(MessageBox,{variant:\"danger\"},errorCreate),loading?/*#__PURE__*/React.createElement(LoadingBox,null):error?/*#__PURE__*/React.createElement(MessageBox,{variant:\"danger\"},error):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"ID\"),/*#__PURE__*/React.createElement(\"th\",null,\"NAME\"),/*#__PURE__*/React.createElement(\"th\",null,\"PRICE\"),/*#__PURE__*/React.createElement(\"th\",null,\"CATEGORY\"),/*#__PURE__*/React.createElement(\"th\",null,\"BRAND\"),/*#__PURE__*/React.createElement(\"th\",null,\"ACTIONS\"))),/*#__PURE__*/React.createElement(\"tbody\",null,products.map(function(product){return/*#__PURE__*/React.createElement(\"tr\",{key:product._id},/*#__PURE__*/React.createElement(\"td\",null,product._id),/*#__PURE__*/React.createElement(\"td\",null,product.name),/*#__PURE__*/React.createElement(\"td\",null,product.price),/*#__PURE__*/React.createElement(\"td\",null,product.category),/*#__PURE__*/React.createElement(\"td\",null,product.brand),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"small\",onClick:function onClick(){return props.history.push(\"/product/\".concat(product._id,\"/edit\"));}},\"Edit\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"small\",onClick:function onClick(){return deleteHandler(product);}},\"Delete\")));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"row center pagination\"},_toConsumableArray(Array(pages).keys()).map(function(x){return/*#__PURE__*/React.createElement(Link,{className:x+1===page?'active':'',key:x+1,to:\"/productlist/pageNumber/\".concat(x+1)},x+1);}))));}export default ProductListScreen;","map":{"version":3,"sources":["/Users/dwaynehovington/Desktop/Mern/mern/client/src/screens/ProductListScreen.js"],"names":["React","useEffect","useDispatch","useSelector","Link","useParams","createProduct","deleteProduct","listProducts","LoadingBox","MessageBox","PRODUCT_CREATE_RESET","PRODUCT_DELETE_RESET","ProductListScreen","props","pageNumber","sellerMode","match","path","indexOf","productList","state","loading","error","products","page","pages","productCreate","loadingCreate","errorCreate","successCreate","success","createdProduct","product","productDelete","loadingDelete","errorDelete","successDelete","userSignin","userInfo","dispatch","type","history","push","_id","seller","deleteHandler","window","confirm","createHandler","map","name","price","category","brand","Array","keys","x"],"mappings":"8KAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,IAAT,CAAeC,SAAf,KAAgC,kBAAhC,CACA,OACIC,aADJ,CAGIC,aAHJ,CAKIC,YALJ,KAMO,2BANP,CAOA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,OACIC,oBADJ,CAEIC,oBAFJ,KAGO,+BAHP,CAKA,QAASC,CAAAA,iBAAT,CAA2BC,KAA3B,CAAkC,CAC9B,eAA2BT,SAAS,EAApC,kCAAQU,UAAR,CAAQA,UAAR,gCAAqB,CAArB,uBAEA,GAAMC,CAAAA,UAAU,CAAGF,KAAK,CAACG,KAAN,CAAYC,IAAZ,CAAiBC,OAAjB,CAAyB,SAAzB,GAAuC,CAA1D,CACA,GAAMC,CAAAA,WAAW,CAAGjB,WAAW,CAAC,SAACkB,KAAD,QAAWA,CAAAA,KAAK,CAACD,WAAjB,EAAD,CAA/B,CACA,GAAQE,CAAAA,OAAR,CAAkDF,WAAlD,CAAQE,OAAR,CAAiBC,KAAjB,CAAkDH,WAAlD,CAAiBG,KAAjB,CAAwBC,QAAxB,CAAkDJ,WAAlD,CAAwBI,QAAxB,CAAkCC,IAAlC,CAAkDL,WAAlD,CAAkCK,IAAlC,CAAwCC,KAAxC,CAAkDN,WAAlD,CAAwCM,KAAxC,CAEA,GAAMC,CAAAA,aAAa,CAAGxB,WAAW,CAAC,SAACkB,KAAD,QAAWA,CAAAA,KAAK,CAACM,aAAjB,EAAD,CAAjC,CACA,GACaC,CAAAA,aADb,CAKID,aALJ,CACIL,OADJ,CAEWO,WAFX,CAKIF,aALJ,CAEIJ,KAFJ,CAGaO,aAHb,CAKIH,aALJ,CAGII,OAHJ,CAIaC,cAJb,CAKIL,aALJ,CAIIM,OAJJ,CAOA,GAAMC,CAAAA,aAAa,CAAG/B,WAAW,CAAC,SAACkB,KAAD,QAAWA,CAAAA,KAAK,CAACa,aAAjB,EAAD,CAAjC,CACA,GACaC,CAAAA,aADb,CAIID,aAJJ,CACIZ,OADJ,CAEWc,WAFX,CAIIF,aAJJ,CAEIX,KAFJ,CAGac,aAHb,CAIIH,aAJJ,CAGIH,OAHJ,CAKA,GAAMO,CAAAA,UAAU,CAAGnC,WAAW,CAAC,SAACkB,KAAD,QAAWA,CAAAA,KAAK,CAACiB,UAAjB,EAAD,CAA9B,CACA,GAAQC,CAAAA,QAAR,CAAqBD,UAArB,CAAQC,QAAR,CACA,GAAMC,CAAAA,QAAQ,CAAGtC,WAAW,EAA5B,CACAD,SAAS,CAAC,UAAM,CACZ,GAAI6B,aAAJ,CAAmB,CACfU,QAAQ,CAAC,CAAEC,IAAI,CAAE9B,oBAAR,CAAD,CAAR,CACAG,KAAK,CAAC4B,OAAN,CAAcC,IAAd,oBAA+BX,cAAc,CAACY,GAA9C,WACH,CACD,GAAIP,aAAJ,CAAmB,CACfG,QAAQ,CAAC,CAAEC,IAAI,CAAE7B,oBAAR,CAAD,CAAR,CACH,CACD4B,QAAQ,CACJhC,YAAY,CAAC,CAAEqC,MAAM,CAAE7B,UAAU,CAAGuB,QAAQ,CAACK,GAAZ,CAAkB,EAAtC,CAA0C7B,UAAU,CAAVA,UAA1C,CAAD,CADR,CAAR,CAGH,CAXQ,CAWN,CACCiB,cADD,CAECQ,QAFD,CAGC1B,KAAK,CAAC4B,OAHP,CAIC1B,UAJD,CAKCc,aALD,CAMCO,aAND,CAOCE,QAAQ,CAACK,GAPV,CAQC7B,UARD,CAXM,CAAT,CAsBA,GAAM+B,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACb,OAAD,CAAa,CAC/B,GAAIc,MAAM,CAACC,OAAP,CAAe,yBAAf,CAAJ,CAA+C,CAC3CR,QAAQ,CAACjC,aAAa,CAAC0B,OAAO,CAACW,GAAT,CAAd,CAAR,CACH,CACJ,CAJD,CAKA,GAAMK,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CACxBT,QAAQ,CAAClC,aAAa,EAAd,CAAR,CACH,CAFD,CAGA,mBACI,4CACI,2BAAK,SAAS,CAAC,KAAf,eACI,yCADJ,cAEI,8BAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,SAAhC,CAA0C,OAAO,CAAE2C,aAAnD,mBAFJ,CADJ,CAQKd,aAAa,eAAI,oBAAC,UAAD,MARtB,CASKC,WAAW,eAAI,oBAAC,UAAD,EAAY,OAAO,CAAC,QAApB,EAA8BA,WAA9B,CATpB,CAWKR,aAAa,eAAI,oBAAC,UAAD,MAXtB,CAYKC,WAAW,eAAI,oBAAC,UAAD,EAAY,OAAO,CAAC,QAApB,EAA8BA,WAA9B,CAZpB,CAaKP,OAAO,cACJ,oBAAC,UAAD,MADI,CAEJC,KAAK,cACL,oBAAC,UAAD,EAAY,OAAO,CAAC,QAApB,EAA8BA,KAA9B,CADK,cAGG,qDACI,6BAAO,SAAS,CAAC,OAAjB,eACI,8CACI,2CACI,mCADJ,cAEI,qCAFJ,cAGI,sCAHJ,cAII,yCAJJ,cAKI,sCALJ,cAMI,wCANJ,CADJ,CADJ,cAWI,iCACKC,QAAQ,CAAC0B,GAAT,CAAa,SAACjB,OAAD,qBACV,0BAAI,GAAG,CAAEA,OAAO,CAACW,GAAjB,eACI,8BAAKX,OAAO,CAACW,GAAb,CADJ,cAEI,8BAAKX,OAAO,CAACkB,IAAb,CAFJ,cAGI,8BAAKlB,OAAO,CAACmB,KAAb,CAHJ,cAII,8BAAKnB,OAAO,CAACoB,QAAb,CAJJ,cAKI,8BAAKpB,OAAO,CAACqB,KAAb,CALJ,cAMI,2CACI,8BACI,IAAI,CAAC,QADT,CAEI,SAAS,CAAC,OAFd,CAGI,OAAO,CAAE,yBACLxC,CAAAA,KAAK,CAAC4B,OAAN,CAAcC,IAAd,oBAA+BV,OAAO,CAACW,GAAvC,UADK,EAHb,SADJ,cAUI,8BACI,IAAI,CAAC,QADT,CAEI,SAAS,CAAC,OAFd,CAGI,OAAO,CAAE,yBAAME,CAAAA,aAAa,CAACb,OAAD,CAAnB,EAHb,WAVJ,CANJ,CADU,EAAb,CADL,CAXJ,CADJ,cA0CI,2BAAK,SAAS,CAAC,uBAAf,EACK,mBAAIsB,KAAK,CAAC7B,KAAD,CAAL,CAAa8B,IAAb,EAAJ,EAAyBN,GAAzB,CAA6B,SAACO,CAAD,qBAC1B,oBAAC,IAAD,EACI,SAAS,CAAEA,CAAC,CAAG,CAAJ,GAAUhC,IAAV,CAAiB,QAAjB,CAA4B,EAD3C,CAEI,GAAG,CAAEgC,CAAC,CAAG,CAFb,CAGI,EAAE,mCAA6BA,CAAC,CAAG,CAAjC,CAHN,EAKKA,CAAC,CAAG,CALT,CAD0B,EAA7B,CADL,CA1CJ,CAlBhB,CADJ,CA4EH,CACD,cAAe5C,CAAAA,iBAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, useParams } from 'react-router-dom';\nimport {\n    createProduct,\n    \n    deleteProduct,\n    \n    listProducts,\n} from '../actions/productActions';\nimport LoadingBox from '../components/LoadingBox';\nimport MessageBox from '../components/MessageBox';\nimport {\n    PRODUCT_CREATE_RESET,\n    PRODUCT_DELETE_RESET,\n} from '../constants/productConstants';\n\nfunction ProductListScreen(props) {\n    const { pageNumber = 1 } = useParams();\n\n    const sellerMode = props.match.path.indexOf('/seller') >= 0;\n    const productList = useSelector((state) => state.productList);\n    const { loading, error, products, page, pages } = productList;\n\n    const productCreate = useSelector((state) => state.productCreate);\n    const {\n        loading: loadingCreate,\n        error: errorCreate,\n        success: successCreate,\n        product: createdProduct,\n    } = productCreate;\n\n    const productDelete = useSelector((state) => state.productDelete);\n    const {\n        loading: loadingDelete,\n        error: errorDelete,\n        success: successDelete,\n    } = productDelete;\n    const userSignin = useSelector((state) => state.userSignin);\n    const { userInfo } = userSignin;\n    const dispatch = useDispatch();\n    useEffect(() => {\n        if (successCreate) {\n            dispatch({ type: PRODUCT_CREATE_RESET });\n            props.history.push(`/product/${createdProduct._id}/edit`);\n        }\n        if (successDelete) {\n            dispatch({ type: PRODUCT_DELETE_RESET });\n        }\n        dispatch(\n            listProducts({ seller: sellerMode ? userInfo._id : '', pageNumber })\n        );\n    }, [\n        createdProduct,\n        dispatch,\n        props.history,\n        sellerMode,\n        successCreate,\n        successDelete,\n        userInfo._id,\n        pageNumber,\n    ]);\n\n    const deleteHandler = (product) => {\n        if (window.confirm('Are you sure to delete?')) {\n            dispatch(deleteProduct(product._id));\n        }\n    };\n    const createHandler = () => {\n        dispatch(createProduct());\n    };\n    return (\n        <div>\n            <div className=\"row\">\n                <h1>Products</h1>\n                <button type=\"button\" className=\"primary\" onClick={createHandler}>\n                    Create Product\n        </button>\n            </div>\n\n            {loadingDelete && <LoadingBox></LoadingBox>}\n            {errorDelete && <MessageBox variant=\"danger\">{errorDelete}</MessageBox>}\n\n            {loadingCreate && <LoadingBox></LoadingBox>}\n            {errorCreate && <MessageBox variant=\"danger\">{errorCreate}</MessageBox>}\n            {loading ? (\n                <LoadingBox></LoadingBox>\n            ) : error ? (\n                <MessageBox variant=\"danger\">{error}</MessageBox>\n            ) : (\n                        <>\n                            <table className=\"table\">\n                                <thead>\n                                    <tr>\n                                        <th>ID</th>\n                                        <th>NAME</th>\n                                        <th>PRICE</th>\n                                        <th>CATEGORY</th>\n                                        <th>BRAND</th>\n                                        <th>ACTIONS</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {products.map((product) => (\n                                        <tr key={product._id}>\n                                            <td>{product._id}</td>\n                                            <td>{product.name}</td>\n                                            <td>{product.price}</td>\n                                            <td>{product.category}</td>\n                                            <td>{product.brand}</td>\n                                            <td>\n                                                <button\n                                                    type=\"button\"\n                                                    className=\"small\"\n                                                    onClick={() =>\n                                                        props.history.push(`/product/${product._id}/edit`)\n                                                    }\n                                                >\n                                                    Edit\n                    </button>\n                                                <button\n                                                    type=\"button\"\n                                                    className=\"small\"\n                                                    onClick={() => deleteHandler(product)}\n                                                >\n                                                    Delete\n                    </button>\n                                            </td>\n                                        </tr>\n                                    ))}\n                                </tbody>\n                            </table>\n                            <div className=\"row center pagination\">\n                                {[...Array(pages).keys()].map((x) => (\n                                    <Link\n                                        className={x + 1 === page ? 'active' : ''}\n                                        key={x + 1}\n                                        to={`/productlist/pageNumber/${x + 1}`}\n                                    >\n                                        {x + 1}\n                                    </Link>\n                                ))}\n                            </div>\n                        </>\n                    )}\n        </div>\n    );\n}\nexport default ProductListScreen"]},"metadata":{},"sourceType":"module"}