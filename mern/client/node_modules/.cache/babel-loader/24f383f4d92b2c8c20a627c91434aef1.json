{"ast":null,"code":"import _regeneratorRuntime from\"/Users/dwaynehovington/Desktop/Mern/mern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/dwaynehovington/Desktop/Mern/mern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import Axios from\"axios\";import{USER_REGISTER_FAIL,USER_REGISTER_REQUEST,USER_REGISTER_SUCCESS,USER_SIGNIN_FAIL,USER_SIGNIN_REQUEST,USER_SIGNIN_SUCCESS,USER_SIGNOUT,USER_DETAILS_FAIL,USER_DETAILS_REQUEST,USER_DETAILS_SUCCESS,USER_UPDATE_PROFILE_REQUEST,USER_UPDATE_PROFILE_FAIL,USER_UPDATE_PROFILE_SUCCESS,USER_LIST_REQUEST,USER_LIST_SUCCESS,USER_LIST_FAIL,USER_DELETE_SUCCESS,USER_DELETE_REQUEST,USER_DELETE_FAIL,USER_TOPSELLERS_LIST_REQUEST,USER_TOPSELLERS_LIST_SUCCESS,USER_TOPSELLERS_LIST_FAIL,USER_UPDATE_SUCCESS,USER_UPDATE_FAIL}from\"../constants/userConstants\";export var register=function register(name,email,password){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var _yield$Axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:USER_REGISTER_REQUEST,payload:{email:email,password:password}});_context.prev=1;_context.next=4;return Axios.post('/api/users/register',{name:name,email:email,password:password});case 4:_yield$Axios$post=_context.sent;data=_yield$Axios$post.data;dispatch({type:USER_REGISTER_SUCCESS,payload:data});dispatch({type:USER_SIGNIN_SUCCESS,payload:data});localStorage.setItem('userInfo',JSON.stringify(data));_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);dispatch({type:USER_REGISTER_FAIL,payload:_context.t0.response&&_context.t0.response.data.message?_context.t0.response.data.message:_context.t0.message});case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,11]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var signin=function signin(email,password){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var _yield$Axios$post2,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch({type:USER_SIGNIN_REQUEST,payload:{email:email,password:password}});_context2.prev=1;_context2.next=4;return Axios.post('/api/users/signin',{email:email,password:password});case 4:_yield$Axios$post2=_context2.sent;data=_yield$Axios$post2.data;dispatch({type:USER_SIGNIN_SUCCESS,payload:data});localStorage.setItem('userInfo',JSON.stringify(data));_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](1);dispatch({type:USER_SIGNIN_FAIL,payload:_context2.t0.response&&_context2.t0.response.data.message?_context2.t0.response.data.message:_context2.t0.message});case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[1,10]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var signout=function signout(){return function(dispatch){localStorage.removeItem('userInfo');localStorage.removeItem('cartItems');localStorage.removeItem('shippingAddress');dispatch({type:USER_SIGNOUT});};};export var detailsUser=function detailsUser(userId){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch,getState){var _getState,userInfo,_yield$Axios$get,data,message;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch({type:USER_DETAILS_REQUEST,payload:userId});_getState=getState(),userInfo=_getState.userSignin.userInfo;_context3.prev=2;_context3.next=5;return Axios.get(\"/api/users/\".concat(userId),{headers:{Authorization:\"Bearer \".concat(userInfo===null||userInfo===void 0?void 0:userInfo.token)}});case 5:_yield$Axios$get=_context3.sent;data=_yield$Axios$get.data;dispatch({type:USER_DETAILS_SUCCESS,payload:data});_context3.next=14;break;case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](2);message=_context3.t0.response&&_context3.t0.response.data.message?_context3.t0.response.data.message:_context3.t0.message;dispatch({type:USER_DETAILS_FAIL,payload:message});case 14:case\"end\":return _context3.stop();}}},_callee3,null,[[2,10]]);}));return function(_x3,_x4){return _ref3.apply(this,arguments);};}();};export var updateUserProfile=function updateUserProfile(user){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch,getState){var _getState2,userInfo,_yield$Axios$put,data,message;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:dispatch({type:USER_UPDATE_PROFILE_REQUEST,payload:user});_getState2=getState(),userInfo=_getState2.userSignin.userInfo;_context4.prev=2;_context4.next=5;return Axios.put(\"/api/users/profile\",user,{headers:{Authorization:\"Bearer \".concat(userInfo.token)}});case 5:_yield$Axios$put=_context4.sent;data=_yield$Axios$put.data;dispatch({type:USER_UPDATE_PROFILE_SUCCESS,payload:data});dispatch({type:USER_SIGNIN_SUCCESS,payload:data});localStorage.setItem('userInfo',JSON.stringify(data));_context4.next=16;break;case 12:_context4.prev=12;_context4.t0=_context4[\"catch\"](2);message=_context4.t0.response&&_context4.t0.response.data.message?_context4.t0.response.data.message:_context4.t0.message;dispatch({type:USER_UPDATE_PROFILE_FAIL,payload:message});case 16:case\"end\":return _context4.stop();}}},_callee4,null,[[2,12]]);}));return function(_x5,_x6){return _ref4.apply(this,arguments);};}();};export var listUsers=function listUsers(){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch,getState){var _getState3,userInfo,_yield$Axios$get2,data,message;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:dispatch({type:USER_LIST_REQUEST});_context5.prev=1;_getState3=getState(),userInfo=_getState3.userSignin.userInfo;_context5.next=5;return Axios.get('/api/users',{headers:{Authorization:\"Bearer \".concat(userInfo.token)}});case 5:_yield$Axios$get2=_context5.sent;data=_yield$Axios$get2.data;dispatch({type:USER_LIST_SUCCESS,payload:data});_context5.next=14;break;case 10:_context5.prev=10;_context5.t0=_context5[\"catch\"](1);message=_context5.t0.response&&_context5.t0.response.data.message?_context5.t0.response.data.message:_context5.t0.message;dispatch({type:USER_LIST_FAIL,payload:message});case 14:case\"end\":return _context5.stop();}}},_callee5,null,[[1,10]]);}));return function(_x7,_x8){return _ref5.apply(this,arguments);};}();};export var deleteUser=function deleteUser(userId){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch,getState){var _getState4,userInfo,_yield$Axios$delete,data,message;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:dispatch({type:USER_DELETE_REQUEST,payload:userId});_getState4=getState(),userInfo=_getState4.userSignin.userInfo;_context6.prev=2;_context6.next=5;return Axios.delete(\"/api/users/\".concat(userId),{headers:{Authorization:\"Bearer \".concat(userInfo.token)}});case 5:_yield$Axios$delete=_context6.sent;data=_yield$Axios$delete.data;dispatch({type:USER_DELETE_SUCCESS,payload:data});_context6.next=14;break;case 10:_context6.prev=10;_context6.t0=_context6[\"catch\"](2);message=_context6.t0.response&&_context6.t0.response.data.message?_context6.t0.response.data.message:_context6.t0.message;dispatch({type:USER_DELETE_FAIL,payload:message});case 14:case\"end\":return _context6.stop();}}},_callee6,null,[[2,10]]);}));return function(_x9,_x10){return _ref6.apply(this,arguments);};}();};export var updateUser=function updateUser(user){return/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch,getState){var _getState5,userInfo,_yield$Axios$put2,data,message;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:dispatch({type:USER_UPDATE_PROFILE_REQUEST,payload:user});_getState5=getState(),userInfo=_getState5.userSignin.userInfo;_context7.prev=2;_context7.next=5;return Axios.put(\"/api/users/\".concat(user._id),user,{headers:{Authorization:\"Bearer \".concat(userInfo.token)}});case 5:_yield$Axios$put2=_context7.sent;data=_yield$Axios$put2.data;dispatch({type:USER_UPDATE_SUCCESS,payload:data});_context7.next=14;break;case 10:_context7.prev=10;_context7.t0=_context7[\"catch\"](2);message=_context7.t0.response&&_context7.t0.response.data.message?_context7.t0.response.data.message:_context7.t0.message;dispatch({type:USER_UPDATE_FAIL,payload:message});case 14:case\"end\":return _context7.stop();}}},_callee7,null,[[2,10]]);}));return function(_x11,_x12){return _ref7.apply(this,arguments);};}();};export var listTopSellers=function listTopSellers(){return/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(dispatch){var _yield$Axios$get3,data,message;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:dispatch({type:USER_TOPSELLERS_LIST_REQUEST});_context8.prev=1;_context8.next=4;return Axios.get('/api/users/top-sellers');case 4:_yield$Axios$get3=_context8.sent;data=_yield$Axios$get3.data;dispatch({type:USER_TOPSELLERS_LIST_SUCCESS,payload:data});_context8.next=13;break;case 9:_context8.prev=9;_context8.t0=_context8[\"catch\"](1);message=_context8.t0.response&&_context8.t0.response.data.message?_context8.t0.response.data.message:_context8.t0.message;dispatch({type:USER_TOPSELLERS_LIST_FAIL,payload:message});case 13:case\"end\":return _context8.stop();}}},_callee8,null,[[1,9]]);}));return function(_x13){return _ref8.apply(this,arguments);};}();};","map":{"version":3,"sources":["/Users/dwaynehovington/Desktop/Mern/mern/client/src/actions/userActions.js"],"names":["Axios","USER_REGISTER_FAIL","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","USER_SIGNIN_FAIL","USER_SIGNIN_REQUEST","USER_SIGNIN_SUCCESS","USER_SIGNOUT","USER_DETAILS_FAIL","USER_DETAILS_REQUEST","USER_DETAILS_SUCCESS","USER_UPDATE_PROFILE_REQUEST","USER_UPDATE_PROFILE_FAIL","USER_UPDATE_PROFILE_SUCCESS","USER_LIST_REQUEST","USER_LIST_SUCCESS","USER_LIST_FAIL","USER_DELETE_SUCCESS","USER_DELETE_REQUEST","USER_DELETE_FAIL","USER_TOPSELLERS_LIST_REQUEST","USER_TOPSELLERS_LIST_SUCCESS","USER_TOPSELLERS_LIST_FAIL","USER_UPDATE_SUCCESS","USER_UPDATE_FAIL","register","name","email","password","dispatch","type","payload","post","data","localStorage","setItem","JSON","stringify","response","message","signin","signout","removeItem","detailsUser","userId","getState","userInfo","userSignin","get","headers","Authorization","token","updateUserProfile","user","put","listUsers","deleteUser","delete","updateUser","_id","listTopSellers"],"mappings":"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","sourcesContent":["import Axios from \"axios\";\nimport { USER_REGISTER_FAIL, USER_REGISTER_REQUEST, USER_REGISTER_SUCCESS, USER_SIGNIN_FAIL, USER_SIGNIN_REQUEST, USER_SIGNIN_SUCCESS, USER_SIGNOUT, USER_DETAILS_FAIL, USER_DETAILS_REQUEST, USER_DETAILS_SUCCESS, USER_UPDATE_PROFILE_REQUEST, USER_UPDATE_PROFILE_FAIL, USER_UPDATE_PROFILE_SUCCESS, USER_LIST_REQUEST, USER_LIST_SUCCESS, USER_LIST_FAIL, USER_DELETE_SUCCESS, USER_DELETE_REQUEST, USER_DELETE_FAIL, USER_TOPSELLERS_LIST_REQUEST, USER_TOPSELLERS_LIST_SUCCESS, USER_TOPSELLERS_LIST_FAIL, USER_UPDATE_SUCCESS, USER_UPDATE_FAIL } from \"../constants/userConstants\"\n\nexport const register = (name, email, password) => async (dispatch) => {\n    dispatch({ type: USER_REGISTER_REQUEST, payload: { email, password } });\n    try {\n        const { data } = await Axios.post('/api/users/register', { name, email, password });\n        dispatch({ type: USER_REGISTER_SUCCESS, payload: data });\n        dispatch({ type: USER_SIGNIN_SUCCESS, payload: data });\n\n        localStorage.setItem('userInfo', JSON.stringify(data));\n    } catch (error) {\n        dispatch({\n            type: USER_REGISTER_FAIL,\n            payload: error.response && error.response.data.message\n                ? error.response.data.message\n                : error.message,\n        })\n    }\n}\n\n\nexport const signin = (email, password) => async (dispatch) => {\n    dispatch({ type: USER_SIGNIN_REQUEST, payload: { email, password } });\n    try {\n        const { data } = await Axios.post('/api/users/signin', { email, password });\n        dispatch({ type: USER_SIGNIN_SUCCESS, payload: data });\n        localStorage.setItem('userInfo', JSON.stringify(data));\n    } catch (error) {\n        dispatch({\n            type: USER_SIGNIN_FAIL,\n            payload: error.response && error.response.data.message\n                ? error.response.data.message\n                : error.message,\n        })\n    }\n}\n\nexport const signout = () => (dispatch) => {\n    localStorage.removeItem('userInfo');\n    localStorage.removeItem('cartItems');\n    localStorage.removeItem('shippingAddress');\n    dispatch({ type: USER_SIGNOUT })\n}\n\nexport const detailsUser = (userId) => async (dispatch, getState) => {\n    dispatch({ type: USER_DETAILS_REQUEST, payload: userId });\n    const { userSignin: { userInfo } } = getState();\n    try {\n        const { data } = await Axios.get(`/api/users/${userId}`, {\n            headers: { Authorization: `Bearer ${userInfo?.token}` },\n\n        });\n        dispatch({ type: USER_DETAILS_SUCCESS, payload: data });\n    } catch (error) {\n        const message = error.response && error.response.data.message\n            ? error.response.data.message\n            : error.message;\n        dispatch({ type: USER_DETAILS_FAIL, payload: message })\n    }\n}\n\nexport const updateUserProfile = (user) => async (dispatch, getState) => {\n    dispatch({ type: USER_UPDATE_PROFILE_REQUEST, payload: user });\n    const { userSignin: { userInfo }, } = getState();\n    try {\n        const { data } = await Axios.put(`/api/users/profile`, user, {\n            headers: { Authorization: `Bearer ${userInfo.token}` },\n        });\n        dispatch({ type: USER_UPDATE_PROFILE_SUCCESS, payload: data });\n        dispatch({ type: USER_SIGNIN_SUCCESS, payload: data })\n        localStorage.setItem('userInfo', JSON.stringify(data))\n    } catch (error) {\n        const message = error.response && error.response.data.message\n            ? error.response.data.message\n            : error.message;\n        dispatch({ type: USER_UPDATE_PROFILE_FAIL, payload: message })\n    }\n}\n\nexport const listUsers = () => async (dispatch, getState) => {\n    dispatch({ type: USER_LIST_REQUEST });\n    try {\n        const {\n            userSignin: { userInfo },\n        } = getState();\n        const { data } = await Axios.get('/api/users', {\n            headers: {\n                Authorization: `Bearer ${userInfo.token}`,\n            },\n        });\n        dispatch({ type: USER_LIST_SUCCESS, payload: data });\n    } catch (error) {\n        const message =\n            error.response && error.response.data.message\n                ? error.response.data.message\n                : error.message;\n        dispatch({ type: USER_LIST_FAIL, payload: message });\n    }\n};\n\nexport const deleteUser = (userId) => async (dispatch, getState) => {\n    dispatch({ type: USER_DELETE_REQUEST, payload: userId });\n    const {\n        userSignin: { userInfo },\n    } = getState();\n    try {\n        const { data } = await Axios.delete(`/api/users/${userId}`, {\n            headers: { Authorization: `Bearer ${userInfo.token}` },\n        });\n        dispatch({ type: USER_DELETE_SUCCESS, payload: data });\n    } catch (error) {\n        const message =\n            error.response && error.response.data.message\n                ? error.response.data.message\n                : error.message;\n        dispatch({ type: USER_DELETE_FAIL, payload: message });\n    }\n};\n\nexport const updateUser = (user) => async (dispatch, getState) => {\n    dispatch({ type: USER_UPDATE_PROFILE_REQUEST, payload: user });\n    const {\n        userSignin: { userInfo },\n    } = getState();\n    try {\n        const { data } = await Axios.put(`/api/users/${user._id}`, user, {\n            headers: { Authorization: `Bearer ${userInfo.token}` },\n        });\n        dispatch({ type: USER_UPDATE_SUCCESS, payload: data });\n    } catch (error) {\n        const message =\n            error.response && error.response.data.message\n                ? error.response.data.message\n                : error.message;\n        dispatch({ type: USER_UPDATE_FAIL, payload: message });\n    }\n};\n\nexport const listTopSellers = () => async (dispatch) => {\n    dispatch({ type: USER_TOPSELLERS_LIST_REQUEST });\n    try {\n        const { data } = await Axios.get('/api/users/top-sellers');\n        dispatch({ type: USER_TOPSELLERS_LIST_SUCCESS, payload: data });\n    } catch (error) {\n        const message =\n            error.response && error.response.data.message\n                ? error.response.data.message\n                : error.message;\n        dispatch({ type: USER_TOPSELLERS_LIST_FAIL, payload: message });\n    }\n};\n"]},"metadata":{},"sourceType":"module"}